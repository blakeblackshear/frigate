{"version":3,"sources":["vs/editor/contrib/suggest/browser/suggestWidgetRenderer.ts"],"names":[],"mappings":"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","file":"suggestWidgetRenderer.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, append, hide, show } from '../../../../base/browser/dom.js';\nimport { IconLabel, IIconLabelValueOptions } from '../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { IListRenderer } from '../../../../base/browser/ui/list/list.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { createMatches } from '../../../../base/common/filters.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { CompletionItemKind, CompletionItemKinds, CompletionItemTag } from '../../../common/languages.js';\nimport { getIconClasses } from '../../../common/services/getIconClasses.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport * as nls from '../../../../nls.js';\nimport { FileKind } from '../../../../platform/files/common/files.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { CompletionItem } from './suggest.js';\nimport { canExpandCompletionItem } from './suggestWidgetDetails.js';\n\nconst suggestMoreInfoIcon = registerIcon('suggest-more-info', Codicon.chevronRight, nls.localize('suggestMoreInfoIcon', 'Icon for more information in the suggest widget.'));\n\nconst _completionItemColor = new class ColorExtractor {\n\n\tprivate static _regexRelaxed = /(#([\\da-fA-F]{3}){1,2}|(rgb|hsl)a\\(\\s*(\\d{1,3}%?\\s*,\\s*){3}(1|0?\\.\\d+)\\)|(rgb|hsl)\\(\\s*\\d{1,3}%?(\\s*,\\s*\\d{1,3}%?){2}\\s*\\))/;\n\tprivate static _regexStrict = new RegExp(`^${ColorExtractor._regexRelaxed.source}$`, 'i');\n\n\textract(item: CompletionItem, out: string[]): boolean {\n\t\tif (item.textLabel.match(ColorExtractor._regexStrict)) {\n\t\t\tout[0] = item.textLabel;\n\t\t\treturn true;\n\t\t}\n\t\tif (item.completion.detail && item.completion.detail.match(ColorExtractor._regexStrict)) {\n\t\t\tout[0] = item.completion.detail;\n\t\t\treturn true;\n\t\t}\n\n\t\tif (item.completion.documentation) {\n\t\t\tconst value = typeof item.completion.documentation === 'string'\n\t\t\t\t? item.completion.documentation\n\t\t\t\t: item.completion.documentation.value;\n\n\t\t\tconst match = ColorExtractor._regexRelaxed.exec(value);\n\t\t\tif (match && (match.index === 0 || match.index + match[0].length === value.length)) {\n\t\t\t\tout[0] = match[0];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\n\n\nexport interface ISuggestionTemplateData {\n\treadonly root: HTMLElement;\n\n\t/**\n\t * Flexbox\n\t * < ------------- left ------------ >     < --- right -- >\n\t * <icon><label><signature><qualifier>     <type><readmore>\n\t */\n\treadonly left: HTMLElement;\n\treadonly right: HTMLElement;\n\n\treadonly icon: HTMLElement;\n\treadonly colorspan: HTMLElement;\n\treadonly iconLabel: IconLabel;\n\treadonly iconContainer: HTMLElement;\n\treadonly parametersLabel: HTMLElement;\n\treadonly qualifierLabel: HTMLElement;\n\t/**\n\t * Showing either `CompletionItem#details` or `CompletionItemLabel#type`\n\t */\n\treadonly detailsLabel: HTMLElement;\n\treadonly readMore: HTMLElement;\n\treadonly disposables: DisposableStore;\n\n\treadonly configureFont: () => void;\n}\n\nexport class ItemRenderer implements IListRenderer<CompletionItem, ISuggestionTemplateData> {\n\n\tprivate readonly _onDidToggleDetails = new Emitter<void>();\n\treadonly onDidToggleDetails: Event<void> = this._onDidToggleDetails.event;\n\n\treadonly templateId = 'suggestion';\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IModelService private readonly _modelService: IModelService,\n\t\t@ILanguageService private readonly _languageService: ILanguageService,\n\t\t@IThemeService private readonly _themeService: IThemeService\n\t) { }\n\n\tdispose(): void {\n\t\tthis._onDidToggleDetails.dispose();\n\t}\n\n\trenderTemplate(container: HTMLElement): ISuggestionTemplateData {\n\t\tconst disposables = new DisposableStore();\n\n\t\tconst root = container;\n\t\troot.classList.add('show-file-icons');\n\n\t\tconst icon = append(container, $('.icon'));\n\t\tconst colorspan = append(icon, $('span.colorspan'));\n\n\t\tconst text = append(container, $('.contents'));\n\t\tconst main = append(text, $('.main'));\n\n\t\tconst iconContainer = append(main, $('.icon-label.codicon'));\n\t\tconst left = append(main, $('span.left'));\n\t\tconst right = append(main, $('span.right'));\n\n\t\tconst iconLabel = new IconLabel(left, { supportHighlights: true, supportIcons: true });\n\t\tdisposables.add(iconLabel);\n\n\t\tconst parametersLabel = append(left, $('span.signature-label'));\n\t\tconst qualifierLabel = append(left, $('span.qualifier-label'));\n\t\tconst detailsLabel = append(right, $('span.details-label'));\n\n\t\tconst readMore = append(right, $('span.readMore' + ThemeIcon.asCSSSelector(suggestMoreInfoIcon)));\n\t\treadMore.title = nls.localize('readMore', \"Read More\");\n\n\t\tconst configureFont = () => {\n\t\t\tconst options = this._editor.getOptions();\n\t\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\t\tconst fontFamily = fontInfo.getMassagedFontFamily();\n\t\t\tconst fontFeatureSettings = fontInfo.fontFeatureSettings;\n\t\t\tconst fontVariationSettings = fontInfo.fontVariationSettings;\n\t\t\tconst fontSize = options.get(EditorOption.suggestFontSize) || fontInfo.fontSize;\n\t\t\tconst lineHeight = options.get(EditorOption.suggestLineHeight) || fontInfo.lineHeight;\n\t\t\tconst fontWeight = fontInfo.fontWeight;\n\t\t\tconst letterSpacing = fontInfo.letterSpacing;\n\t\t\tconst fontSizePx = `${fontSize}px`;\n\t\t\tconst lineHeightPx = `${lineHeight}px`;\n\t\t\tconst letterSpacingPx = `${letterSpacing}px`;\n\n\t\t\troot.style.fontSize = fontSizePx;\n\t\t\troot.style.fontWeight = fontWeight;\n\t\t\troot.style.letterSpacing = letterSpacingPx;\n\t\t\tmain.style.fontFamily = fontFamily;\n\t\t\tmain.style.fontFeatureSettings = fontFeatureSettings;\n\t\t\tmain.style.fontVariationSettings = fontVariationSettings;\n\t\t\tmain.style.lineHeight = lineHeightPx;\n\t\t\ticon.style.height = lineHeightPx;\n\t\t\ticon.style.width = lineHeightPx;\n\t\t\treadMore.style.height = lineHeightPx;\n\t\t\treadMore.style.width = lineHeightPx;\n\t\t};\n\n\t\treturn { root, left, right, icon, colorspan, iconLabel, iconContainer, parametersLabel, qualifierLabel, detailsLabel, readMore, disposables, configureFont };\n\t}\n\n\trenderElement(element: CompletionItem, index: number, data: ISuggestionTemplateData): void {\n\n\n\t\tdata.configureFont();\n\n\t\tconst { completion } = element;\n\t\tdata.colorspan.style.backgroundColor = '';\n\n\t\tconst labelOptions: IIconLabelValueOptions = {\n\t\t\tlabelEscapeNewLines: true,\n\t\t\tmatches: createMatches(element.score)\n\t\t};\n\n\t\tconst color: string[] = [];\n\t\tif (completion.kind === CompletionItemKind.Color && _completionItemColor.extract(element, color)) {\n\t\t\t// special logic for 'color' completion items\n\t\t\tdata.icon.className = 'icon customcolor';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tdata.colorspan.style.backgroundColor = color[0];\n\n\t\t} else if (completion.kind === CompletionItemKind.File && this._themeService.getFileIconTheme().hasFileIcons) {\n\t\t\t// special logic for 'file' completion items\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tconst labelClasses = getIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: element.textLabel }), FileKind.FILE);\n\t\t\tconst detailClasses = getIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: completion.detail }), FileKind.FILE);\n\t\t\tlabelOptions.extraClasses = labelClasses.length > detailClasses.length ? labelClasses : detailClasses;\n\n\t\t} else if (completion.kind === CompletionItemKind.Folder && this._themeService.getFileIconTheme().hasFolderIcons) {\n\t\t\t// special logic for 'folder' completion items\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tlabelOptions.extraClasses = [\n\t\t\t\tgetIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: element.textLabel }), FileKind.FOLDER),\n\t\t\t\tgetIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: completion.detail }), FileKind.FOLDER)\n\t\t\t].flat();\n\t\t} else {\n\t\t\t// normal icon\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = '';\n\t\t\tdata.iconContainer.classList.add('suggest-icon', ...ThemeIcon.asClassNameArray(CompletionItemKinds.toIcon(completion.kind)));\n\t\t}\n\n\t\tif (completion.tags && completion.tags.indexOf(CompletionItemTag.Deprecated) >= 0) {\n\t\t\tlabelOptions.extraClasses = (labelOptions.extraClasses || []).concat(['deprecated']);\n\t\t\tlabelOptions.matches = [];\n\t\t}\n\n\t\tdata.iconLabel.setLabel(element.textLabel, undefined, labelOptions);\n\t\tif (typeof completion.label === 'string') {\n\t\t\tdata.parametersLabel.textContent = '';\n\t\t\tdata.detailsLabel.textContent = stripNewLines(completion.detail || '');\n\t\t\tdata.root.classList.add('string-label');\n\t\t} else {\n\t\t\tdata.parametersLabel.textContent = stripNewLines(completion.label.detail || '');\n\t\t\tdata.detailsLabel.textContent = stripNewLines(completion.label.description || '');\n\t\t\tdata.root.classList.remove('string-label');\n\t\t}\n\n\t\tif (this._editor.getOption(EditorOption.suggest).showInlineDetails) {\n\t\t\tshow(data.detailsLabel);\n\t\t} else {\n\t\t\thide(data.detailsLabel);\n\t\t}\n\n\t\tif (canExpandCompletionItem(element)) {\n\t\t\tdata.right.classList.add('can-expand-details');\n\t\t\tshow(data.readMore);\n\t\t\tdata.readMore.onmousedown = e => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t};\n\t\t\tdata.readMore.onclick = e => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._onDidToggleDetails.fire();\n\t\t\t};\n\t\t} else {\n\t\t\tdata.right.classList.remove('can-expand-details');\n\t\t\thide(data.readMore);\n\t\t\tdata.readMore.onmousedown = null;\n\t\t\tdata.readMore.onclick = null;\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ISuggestionTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n}\n\nfunction stripNewLines(str: string): string {\n\treturn str.replace(/\\r\\n|\\r|\\n/g, '');\n}\n"]}