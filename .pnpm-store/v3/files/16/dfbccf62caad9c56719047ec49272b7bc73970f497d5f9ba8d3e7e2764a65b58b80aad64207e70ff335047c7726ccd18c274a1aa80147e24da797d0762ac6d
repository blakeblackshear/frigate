{"version":3,"sources":["vs/editor/contrib/codeAction/browser/codeActionCommands.ts"],"names":[],"mappings":"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","file":"codeActionCommands.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { HierarchicalKind } from '../../../../base/common/hierarchicalKind.js';\nimport { IJSONSchema } from '../../../../base/common/jsonSchema.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { escapeRegExpCharacters } from '../../../../base/common/strings.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction, EditorCommand, ServicesAccessor } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { autoFixCommandId, codeActionCommandId, fixAllCommandId, organizeImportsCommandId, quickFixCommandId, refactorCommandId, sourceActionCommandId } from './codeAction.js';\nimport * as nls from '../../../../nls.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { CodeActionAutoApply, CodeActionCommandArgs, CodeActionFilter, CodeActionKind, CodeActionTriggerSource } from '../common/types.js';\nimport { CodeActionController } from './codeActionController.js';\nimport { SUPPORTED_CODE_ACTIONS } from './codeActionModel.js';\n\nfunction contextKeyForSupportedActions(kind: HierarchicalKind) {\n\treturn ContextKeyExpr.regex(\n\t\tSUPPORTED_CODE_ACTIONS.keys()[0],\n\t\tnew RegExp('(\\\\s|^)' + escapeRegExpCharacters(kind.value) + '\\\\b'));\n}\n\nconst argsSchema: IJSONSchema = {\n\ttype: 'object',\n\tdefaultSnippets: [{ body: { kind: '' } }],\n\tproperties: {\n\t\t'kind': {\n\t\t\ttype: 'string',\n\t\t\tdescription: nls.localize('args.schema.kind', \"Kind of the code action to run.\"),\n\t\t},\n\t\t'apply': {\n\t\t\ttype: 'string',\n\t\t\tdescription: nls.localize('args.schema.apply', \"Controls when the returned actions are applied.\"),\n\t\t\tdefault: CodeActionAutoApply.IfSingle,\n\t\t\tenum: [CodeActionAutoApply.First, CodeActionAutoApply.IfSingle, CodeActionAutoApply.Never],\n\t\t\tenumDescriptions: [\n\t\t\t\tnls.localize('args.schema.apply.first', \"Always apply the first returned code action.\"),\n\t\t\t\tnls.localize('args.schema.apply.ifSingle', \"Apply the first returned code action if it is the only one.\"),\n\t\t\t\tnls.localize('args.schema.apply.never', \"Do not apply the returned code actions.\"),\n\t\t\t]\n\t\t},\n\t\t'preferred': {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tdescription: nls.localize('args.schema.preferred', \"Controls if only preferred code actions should be returned.\"),\n\t\t}\n\t}\n};\n\nfunction triggerCodeActionsForEditorSelection(\n\teditor: ICodeEditor,\n\tnotAvailableMessage: string,\n\tfilter: CodeActionFilter | undefined,\n\tautoApply: CodeActionAutoApply | undefined,\n\ttriggerAction: CodeActionTriggerSource = CodeActionTriggerSource.Default\n): void {\n\tif (editor.hasModel()) {\n\t\tconst controller = CodeActionController.get(editor);\n\t\tcontroller?.manualTriggerAtCurrentPosition(notAvailableMessage, triggerAction, filter, autoApply);\n\t}\n}\n\nexport class QuickFixAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: quickFixCommandId,\n\t\t\tlabel: nls.localize2('quickfix.trigger.label', \"Quick Fix...\"),\n\t\t\tprecondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Period,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic run(_accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\treturn triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.quickFix.noneMessage', \"No code actions available\"), undefined, undefined, CodeActionTriggerSource.QuickFix);\n\t}\n}\n\nexport class CodeActionCommand extends EditorCommand {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: codeActionCommandId,\n\t\t\tprecondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n\t\t\tmetadata: {\n\t\t\t\tdescription: 'Trigger a code action',\n\t\t\t\targs: [{ name: 'args', schema: argsSchema, }]\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic runEditorCommand(_accessor: ServicesAccessor, editor: ICodeEditor, userArgs: any) {\n\t\tconst args = CodeActionCommandArgs.fromUser(userArgs, {\n\t\t\tkind: HierarchicalKind.Empty,\n\t\t\tapply: CodeActionAutoApply.IfSingle,\n\t\t});\n\t\treturn triggerCodeActionsForEditorSelection(editor,\n\t\t\ttypeof userArgs?.kind === 'string'\n\t\t\t\t? args.preferred\n\t\t\t\t\t? nls.localize('editor.action.codeAction.noneMessage.preferred.kind', \"No preferred code actions for '{0}' available\", userArgs.kind)\n\t\t\t\t\t: nls.localize('editor.action.codeAction.noneMessage.kind', \"No code actions for '{0}' available\", userArgs.kind)\n\t\t\t\t: args.preferred\n\t\t\t\t\t? nls.localize('editor.action.codeAction.noneMessage.preferred', \"No preferred code actions available\")\n\t\t\t\t\t: nls.localize('editor.action.codeAction.noneMessage', \"No code actions available\"),\n\t\t\t{\n\t\t\t\tinclude: args.kind,\n\t\t\t\tincludeSourceActions: true,\n\t\t\t\tonlyIncludePreferredActions: args.preferred,\n\t\t\t},\n\t\t\targs.apply);\n\t}\n}\n\n\nexport class RefactorAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: refactorCommandId,\n\t\t\tlabel: nls.localize2('refactor.label', \"Refactor...\"),\n\t\t\tprecondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KeyR,\n\t\t\t\tmac: {\n\t\t\t\t\tprimary: KeyMod.WinCtrl | KeyMod.Shift | KeyCode.KeyR\n\t\t\t\t},\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tcontextMenuOpts: {\n\t\t\t\tgroup: '1_modification',\n\t\t\t\torder: 2,\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tEditorContextKeys.writable,\n\t\t\t\t\tcontextKeyForSupportedActions(CodeActionKind.Refactor)),\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: 'Refactor...',\n\t\t\t\targs: [{ name: 'args', schema: argsSchema }]\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic run(_accessor: ServicesAccessor, editor: ICodeEditor, userArgs: any): void {\n\t\tconst args = CodeActionCommandArgs.fromUser(userArgs, {\n\t\t\tkind: CodeActionKind.Refactor,\n\t\t\tapply: CodeActionAutoApply.Never\n\t\t});\n\t\treturn triggerCodeActionsForEditorSelection(editor,\n\t\t\ttypeof userArgs?.kind === 'string'\n\t\t\t\t? args.preferred\n\t\t\t\t\t? nls.localize('editor.action.refactor.noneMessage.preferred.kind', \"No preferred refactorings for '{0}' available\", userArgs.kind)\n\t\t\t\t\t: nls.localize('editor.action.refactor.noneMessage.kind', \"No refactorings for '{0}' available\", userArgs.kind)\n\t\t\t\t: args.preferred\n\t\t\t\t\t? nls.localize('editor.action.refactor.noneMessage.preferred', \"No preferred refactorings available\")\n\t\t\t\t\t: nls.localize('editor.action.refactor.noneMessage', \"No refactorings available\"),\n\t\t\t{\n\t\t\t\tinclude: CodeActionKind.Refactor.contains(args.kind) ? args.kind : HierarchicalKind.None,\n\t\t\t\tonlyIncludePreferredActions: args.preferred\n\t\t\t},\n\t\t\targs.apply, CodeActionTriggerSource.Refactor);\n\t}\n}\n\nexport class SourceAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: sourceActionCommandId,\n\t\t\tlabel: nls.localize2('source.label', \"Source Action...\"),\n\t\t\tprecondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n\t\t\tcontextMenuOpts: {\n\t\t\t\tgroup: '1_modification',\n\t\t\t\torder: 2.1,\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tEditorContextKeys.writable,\n\t\t\t\t\tcontextKeyForSupportedActions(CodeActionKind.Source)),\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: 'Source Action...',\n\t\t\t\targs: [{ name: 'args', schema: argsSchema }]\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic run(_accessor: ServicesAccessor, editor: ICodeEditor, userArgs: any): void {\n\t\tconst args = CodeActionCommandArgs.fromUser(userArgs, {\n\t\t\tkind: CodeActionKind.Source,\n\t\t\tapply: CodeActionAutoApply.Never\n\t\t});\n\t\treturn triggerCodeActionsForEditorSelection(editor,\n\t\t\ttypeof userArgs?.kind === 'string'\n\t\t\t\t? args.preferred\n\t\t\t\t\t? nls.localize('editor.action.source.noneMessage.preferred.kind', \"No preferred source actions for '{0}' available\", userArgs.kind)\n\t\t\t\t\t: nls.localize('editor.action.source.noneMessage.kind', \"No source actions for '{0}' available\", userArgs.kind)\n\t\t\t\t: args.preferred\n\t\t\t\t\t? nls.localize('editor.action.source.noneMessage.preferred', \"No preferred source actions available\")\n\t\t\t\t\t: nls.localize('editor.action.source.noneMessage', \"No source actions available\"),\n\t\t\t{\n\t\t\t\tinclude: CodeActionKind.Source.contains(args.kind) ? args.kind : HierarchicalKind.None,\n\t\t\t\tincludeSourceActions: true,\n\t\t\t\tonlyIncludePreferredActions: args.preferred,\n\t\t\t},\n\t\t\targs.apply, CodeActionTriggerSource.SourceAction);\n\t}\n}\n\nexport class OrganizeImportsAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: organizeImportsCommandId,\n\t\t\tlabel: nls.localize2('organizeImports.label', \"Organize Imports\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.writable,\n\t\t\t\tcontextKeyForSupportedActions(CodeActionKind.SourceOrganizeImports)),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\t\t\tprimary: KeyMod.Shift | KeyMod.Alt | KeyCode.KeyO,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: nls.localize2('organizeImports.description', \"Organize imports in the current file. Also called 'Optimize Imports' by some tools\")\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic run(_accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\treturn triggerCodeActionsForEditorSelection(editor,\n\t\t\tnls.localize('editor.action.organize.noneMessage', \"No organize imports action available\"),\n\t\t\t{ include: CodeActionKind.SourceOrganizeImports, includeSourceActions: true },\n\t\t\tCodeActionAutoApply.IfSingle, CodeActionTriggerSource.OrganizeImports);\n\t}\n}\n\nexport class FixAllAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: fixAllCommandId,\n\t\t\tlabel: nls.localize2('fixAll.label', \"Fix All\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.writable,\n\t\t\t\tcontextKeyForSupportedActions(CodeActionKind.SourceFixAll))\n\t\t});\n\t}\n\n\tpublic run(_accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\treturn triggerCodeActionsForEditorSelection(editor,\n\t\t\tnls.localize('fixAll.noneMessage', \"No fix all action available\"),\n\t\t\t{ include: CodeActionKind.SourceFixAll, includeSourceActions: true },\n\t\t\tCodeActionAutoApply.IfSingle, CodeActionTriggerSource.FixAll);\n\t}\n}\n\nexport class AutoFixAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: autoFixCommandId,\n\t\t\tlabel: nls.localize2('autoFix.label', \"Auto Fix...\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.writable,\n\t\t\t\tcontextKeyForSupportedActions(CodeActionKind.QuickFix)),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\t\t\tprimary: KeyMod.Alt | KeyMod.Shift | KeyCode.Period,\n\t\t\t\tmac: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.Period\n\t\t\t\t},\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic run(_accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\treturn triggerCodeActionsForEditorSelection(editor,\n\t\t\tnls.localize('editor.action.autoFix.noneMessage', \"No auto fixes available\"),\n\t\t\t{\n\t\t\t\tinclude: CodeActionKind.QuickFix,\n\t\t\t\tonlyIncludePreferredActions: true\n\t\t\t},\n\t\t\tCodeActionAutoApply.IfSingle, CodeActionTriggerSource.AutoFix);\n\t}\n}\n"]}