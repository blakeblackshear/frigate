{"version":3,"sources":["vs/editor/contrib/stickyScroll/browser/stickyScrollActions.ts"],"names":[],"mappings":"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","file":"stickyScrollActions.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { EditorAction2, ServicesAccessor } from '../../../browser/editorExtensions.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { StickyScrollController } from './stickyScrollController.js';\n\nexport class ToggleStickyScroll extends EditorAction2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.toggleStickyScroll',\n\t\t\ttitle: {\n\t\t\t\t...localize2('toggleEditorStickyScroll', \"Toggle Editor Sticky Scroll\"),\n\t\t\t\tmnemonicTitle: localize({ key: 'mitoggleStickyScroll', comment: ['&& denotes a mnemonic'] }, \"&&Toggle Editor Sticky Scroll\"),\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize2('toggleEditorStickyScroll.description', \"Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport\"),\n\t\t\t},\n\t\t\tcategory: Categories.View,\n\t\t\ttoggled: {\n\t\t\t\tcondition: ContextKeyExpr.equals('config.editor.stickyScroll.enabled', true),\n\t\t\t\ttitle: localize('stickyScroll', \"Sticky Scroll\"),\n\t\t\t\tmnemonicTitle: localize({ key: 'miStickyScroll', comment: ['&& denotes a mnemonic'] }, \"&&Sticky Scroll\"),\n\t\t\t},\n\t\t\tmenu: [\n\t\t\t\t{ id: MenuId.CommandPalette },\n\t\t\t\t{ id: MenuId.MenubarAppearanceMenu, group: '4_editor', order: 3 },\n\t\t\t\t{ id: MenuId.StickyScrollContext }\n\t\t\t]\n\t\t});\n\t}\n\n\tasync runEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor): Promise<void> {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst newValue = !configurationService.getValue('editor.stickyScroll.enabled');\n\t\tconst isFocused = StickyScrollController.get(editor)?.isFocused();\n\t\tconfigurationService.updateValue('editor.stickyScroll.enabled', newValue);\n\t\tif (isFocused) {\n\t\t\teditor.focus();\n\t\t}\n\t}\n}\n\nconst weight = KeybindingWeight.EditorContrib;\n\nexport class FocusStickyScroll extends EditorAction2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.focusStickyScroll',\n\t\t\ttitle: {\n\t\t\t\t...localize2('focusStickyScroll', \"Focus Editor Sticky Scroll\"),\n\t\t\t\tmnemonicTitle: localize({ key: 'mifocusEditorStickyScroll', comment: ['&& denotes a mnemonic'] }, \"&&Focus Editor Sticky Scroll\"),\n\t\t\t},\n\t\t\tprecondition: ContextKeyExpr.and(ContextKeyExpr.has('config.editor.stickyScroll.enabled'), EditorContextKeys.stickyScrollVisible),\n\t\t\tmenu: [\n\t\t\t\t{ id: MenuId.CommandPalette },\n\t\t\t]\n\t\t});\n\t}\n\n\trunEditorCommand(_accessor: ServicesAccessor, editor: ICodeEditor) {\n\t\tStickyScrollController.get(editor)?.focus();\n\t}\n}\n\nexport class SelectNextStickyScrollLine extends EditorAction2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.selectNextStickyScrollLine',\n\t\t\ttitle: localize2('selectNextStickyScrollLine.title', \"Select the next editor sticky scroll line\"),\n\t\t\tprecondition: EditorContextKeys.stickyScrollFocused.isEqualTo(true),\n\t\t\tkeybinding: {\n\t\t\t\tweight,\n\t\t\t\tprimary: KeyCode.DownArrow\n\t\t\t}\n\t\t});\n\t}\n\n\trunEditorCommand(_accessor: ServicesAccessor, editor: ICodeEditor) {\n\t\tStickyScrollController.get(editor)?.focusNext();\n\t}\n}\n\nexport class SelectPreviousStickyScrollLine extends EditorAction2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.selectPreviousStickyScrollLine',\n\t\t\ttitle: localize2('selectPreviousStickyScrollLine.title', \"Select the previous sticky scroll line\"),\n\t\t\tprecondition: EditorContextKeys.stickyScrollFocused.isEqualTo(true),\n\t\t\tkeybinding: {\n\t\t\t\tweight,\n\t\t\t\tprimary: KeyCode.UpArrow\n\t\t\t}\n\t\t});\n\t}\n\n\trunEditorCommand(_accessor: ServicesAccessor, editor: ICodeEditor) {\n\t\tStickyScrollController.get(editor)?.focusPrevious();\n\t}\n}\n\nexport class GoToStickyScrollLine extends EditorAction2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.goToFocusedStickyScrollLine',\n\t\t\ttitle: localize2('goToFocusedStickyScrollLine.title', \"Go to the focused sticky scroll line\"),\n\t\t\tprecondition: EditorContextKeys.stickyScrollFocused.isEqualTo(true),\n\t\t\tkeybinding: {\n\t\t\t\tweight,\n\t\t\t\tprimary: KeyCode.Enter\n\t\t\t}\n\t\t});\n\t}\n\n\trunEditorCommand(_accessor: ServicesAccessor, editor: ICodeEditor) {\n\t\tStickyScrollController.get(editor)?.goToFocused();\n\t}\n}\n\nexport class SelectEditor extends EditorAction2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.selectEditor',\n\t\t\ttitle: localize2('selectEditor.title', \"Select Editor\"),\n\t\t\tprecondition: EditorContextKeys.stickyScrollFocused.isEqualTo(true),\n\t\t\tkeybinding: {\n\t\t\t\tweight,\n\t\t\t\tprimary: KeyCode.Escape\n\t\t\t}\n\t\t});\n\t}\n\n\trunEditorCommand(_accessor: ServicesAccessor, editor: ICodeEditor) {\n\t\tStickyScrollController.get(editor)?.selectEditor();\n\t}\n}\n"]}