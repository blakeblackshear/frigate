{"version":3,"sources":["vs/editor/contrib/gotoSymbol/browser/goToCommands.ts"],"names":[],"mappings":"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","file":"goToCommands.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { KeyChord, KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { CodeEditorStateFlag, EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { IActiveCodeEditor, ICodeEditor, isCodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction2, ServicesAccessor } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { EditorOption, GoToLocationValues } from '../../../common/config/editorOptions.js';\nimport * as corePosition from '../../../common/core/position.js';\nimport { IRange, Range } from '../../../common/core/range.js';\nimport { ScrollType } from '../../../common/editorCommon.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { isLocationLink, Location, LocationLink } from '../../../common/languages.js';\nimport { ReferencesController } from './peek/referencesController.js';\nimport { ReferencesModel } from './referencesModel.js';\nimport { ISymbolNavigationService } from './symbolNavigation.js';\nimport { MessageController } from '../../message/browser/messageController.js';\nimport { PeekContext } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { IAction2F1RequiredOptions, IAction2Options, ISubmenuItem, MenuId, MenuRegistry, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { TextEditorSelectionRevealType, TextEditorSelectionSource } from '../../../../platform/editor/common/editor.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../../platform/progress/common/progress.js';\nimport { getDeclarationsAtPosition, getDefinitionsAtPosition, getImplementationsAtPosition, getReferencesAtPosition, getTypeDefinitionsAtPosition } from './goToSymbol.js';\nimport { IWordAtPosition } from '../../../common/core/wordHelper.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { IsWebContext } from '../../../../platform/contextkey/common/contextkeys.js';\n\nMenuRegistry.appendMenuItem(MenuId.EditorContext, {\n\tsubmenu: MenuId.EditorContextPeek,\n\ttitle: nls.localize('peek.submenu', \"Peek\"),\n\tgroup: 'navigation',\n\torder: 100\n} satisfies ISubmenuItem);\n\nexport interface SymbolNavigationActionConfig {\n\topenToSide: boolean;\n\topenInPeek: boolean;\n\tmuteMessage: boolean;\n}\n\nexport class SymbolNavigationAnchor {\n\n\tstatic is(thing: any): thing is SymbolNavigationAnchor {\n\t\tif (!thing || typeof thing !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (thing instanceof SymbolNavigationAnchor) {\n\t\t\treturn true;\n\t\t}\n\t\tif (corePosition.Position.isIPosition((<SymbolNavigationAnchor>thing).position) && (<SymbolNavigationAnchor>thing).model) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tconstructor(readonly model: ITextModel, readonly position: corePosition.Position) { }\n}\n\nexport abstract class SymbolNavigationAction extends EditorAction2 {\n\n\tprivate static _allSymbolNavigationCommands = new Map<string, SymbolNavigationAction>();\n\tprivate static _activeAlternativeCommands = new Set<string>();\n\n\tstatic all(): IterableIterator<SymbolNavigationAction> {\n\t\treturn SymbolNavigationAction._allSymbolNavigationCommands.values();\n\t}\n\n\tprivate static _patchConfig(opts: IAction2Options & IAction2F1RequiredOptions): IAction2Options {\n\t\tconst result = { ...opts, f1: true };\n\t\t// patch context menu when clause\n\t\tif (result.menu) {\n\t\t\tfor (const item of Iterable.wrap(result.menu)) {\n\t\t\t\tif (item.id === MenuId.EditorContext || item.id === MenuId.EditorContextPeek) {\n\t\t\t\t\titem.when = ContextKeyExpr.and(opts.precondition, item.when);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn <typeof opts>result;\n\t}\n\n\treadonly configuration: SymbolNavigationActionConfig;\n\n\tconstructor(configuration: SymbolNavigationActionConfig, opts: IAction2Options & IAction2F1RequiredOptions) {\n\t\tsuper(SymbolNavigationAction._patchConfig(opts));\n\t\tthis.configuration = configuration;\n\t\tSymbolNavigationAction._allSymbolNavigationCommands.set(opts.id, this);\n\t}\n\n\toverride runEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor, arg?: SymbolNavigationAnchor | unknown, range?: Range): Promise<void> {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t\tconst notificationService = accessor.get(INotificationService);\n\t\tconst editorService = accessor.get(ICodeEditorService);\n\t\tconst progressService = accessor.get(IEditorProgressService);\n\t\tconst symbolNavService = accessor.get(ISymbolNavigationService);\n\t\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\t\tconst instaService = accessor.get(IInstantiationService);\n\n\t\tconst model = editor.getModel();\n\t\tconst position = editor.getPosition();\n\t\tconst anchor = SymbolNavigationAnchor.is(arg) ? arg : new SymbolNavigationAnchor(model, position);\n\n\t\tconst cts = new EditorStateCancellationTokenSource(editor, CodeEditorStateFlag.Value | CodeEditorStateFlag.Position);\n\n\t\tconst promise = raceCancellation(this._getLocationModel(languageFeaturesService, anchor.model, anchor.position, cts.token), cts.token).then(async references => {\n\n\t\t\tif (!references || cts.token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\talert(references.ariaMessage);\n\n\t\t\tlet altAction: SymbolNavigationAction | null | undefined;\n\t\t\tif (references.referenceAt(model.uri, position)) {\n\t\t\t\tconst altActionId = this._getAlternativeCommand(editor);\n\t\t\t\tif (altActionId !== undefined && !SymbolNavigationAction._activeAlternativeCommands.has(altActionId) && SymbolNavigationAction._allSymbolNavigationCommands.has(altActionId)) {\n\t\t\t\t\taltAction = SymbolNavigationAction._allSymbolNavigationCommands.get(altActionId)!;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst referenceCount = references.references.length;\n\n\t\t\tif (referenceCount === 0) {\n\t\t\t\t// no result -> show message\n\t\t\t\tif (!this.configuration.muteMessage) {\n\t\t\t\t\tconst info = model.getWordAtPosition(position);\n\t\t\t\t\tMessageController.get(editor)?.showMessage(this._getNoResultFoundMessage(info), position);\n\t\t\t\t}\n\t\t\t} else if (referenceCount === 1 && altAction) {\n\t\t\t\t// already at the only result, run alternative\n\t\t\t\tSymbolNavigationAction._activeAlternativeCommands.add(this.desc.id);\n\t\t\t\tinstaService.invokeFunction((accessor) => altAction.runEditorCommand(accessor, editor, arg, range).finally(() => {\n\t\t\t\t\tSymbolNavigationAction._activeAlternativeCommands.delete(this.desc.id);\n\t\t\t\t}));\n\n\t\t\t} else {\n\t\t\t\t// normal results handling\n\t\t\t\treturn this._onResult(editorService, symbolNavService, editor, references, range);\n\t\t\t}\n\n\t\t}, (err) => {\n\t\t\t// report an error\n\t\t\tnotificationService.error(err);\n\t\t}).finally(() => {\n\t\t\tcts.dispose();\n\t\t});\n\n\t\tprogressService.showWhile(promise, 250);\n\t\treturn promise;\n\t}\n\n\tprotected abstract _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel | undefined>;\n\n\tprotected abstract _getNoResultFoundMessage(info: IWordAtPosition | null): string;\n\n\tprotected abstract _getAlternativeCommand(editor: IActiveCodeEditor): string | undefined;\n\n\tprotected abstract _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues;\n\n\tprivate async _onResult(editorService: ICodeEditorService, symbolNavService: ISymbolNavigationService, editor: IActiveCodeEditor, model: ReferencesModel, range?: Range): Promise<void> {\n\n\t\tconst gotoLocation = this._getGoToPreference(editor);\n\t\tif (!(editor instanceof EmbeddedCodeEditorWidget) && (this.configuration.openInPeek || (gotoLocation === 'peek' && model.references.length > 1))) {\n\t\t\tthis._openInPeek(editor, model, range);\n\n\t\t} else {\n\t\t\tconst next = model.firstReference()!;\n\t\t\tconst peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\n\t\t\tconst targetEditor = await this._openReference(editor, editorService, next, this.configuration.openToSide, !peek);\n\t\t\tif (peek && targetEditor) {\n\t\t\t\tthis._openInPeek(targetEditor, model, range);\n\t\t\t} else {\n\t\t\t\tmodel.dispose();\n\t\t\t}\n\n\t\t\t// keep remaining locations around when using\n\t\t\t// 'goto'-mode\n\t\t\tif (gotoLocation === 'goto') {\n\t\t\t\tsymbolNavService.put(next);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async _openReference(editor: ICodeEditor, editorService: ICodeEditorService, reference: Location | LocationLink, sideBySide: boolean, highlight: boolean): Promise<ICodeEditor | undefined> {\n\t\t// range is the target-selection-range when we have one\n\t\t// and the fallback is the 'full' range\n\t\tlet range: IRange | undefined = undefined;\n\t\tif (isLocationLink(reference)) {\n\t\t\trange = reference.targetSelectionRange;\n\t\t}\n\t\tif (!range) {\n\t\t\trange = reference.range;\n\t\t}\n\t\tif (!range) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst targetEditor = await editorService.openCodeEditor({\n\t\t\tresource: reference.uri,\n\t\t\toptions: {\n\t\t\t\tselection: Range.collapseToStart(range),\n\t\t\t\tselectionRevealType: TextEditorSelectionRevealType.NearTopIfOutsideViewport,\n\t\t\t\tselectionSource: TextEditorSelectionSource.JUMP\n\t\t\t}\n\t\t}, editor, sideBySide);\n\n\t\tif (!targetEditor) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (highlight) {\n\t\t\tconst modelNow = targetEditor.getModel();\n\t\t\tconst decorations = targetEditor.createDecorationsCollection([{ range, options: { description: 'symbol-navigate-action-highlight', className: 'symbolHighlight' } }]);\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (targetEditor.getModel() === modelNow) {\n\t\t\t\t\tdecorations.clear();\n\t\t\t\t}\n\t\t\t}, 350);\n\t\t}\n\n\t\treturn targetEditor;\n\t}\n\n\tprivate _openInPeek(target: ICodeEditor, model: ReferencesModel, range?: Range) {\n\t\tconst controller = ReferencesController.get(target);\n\t\tif (controller && target.hasModel()) {\n\t\t\tcontroller.toggleWidget(range ?? target.getSelection(), createCancelablePromise(_ => Promise.resolve(model)), this.configuration.openInPeek);\n\t\t} else {\n\t\t\tmodel.dispose();\n\t\t}\n\t}\n}\n\n//#region --- DEFINITION\n\nexport class DefinitionAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, false, token), nls.localize('def.title', 'Definitions'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\n\t\t\t: nls.localize('generic.noResults', \"No definition found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeDefinitionCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleDefinitions;\n\t}\n}\n\nregisterAction2(class GoToDefinitionAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.revealDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToDefinitionAction.id,\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('actions.goToDecl.label', \"Go to Definition\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\"),\n\t\t\t},\n\t\t\tprecondition: EditorContextKeys.hasDefinitionProvider,\n\t\t\tkeybinding: [{\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}, {\n\t\t\t\twhen: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}],\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.1\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 2,\n\t\t\t}]\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\n\t}\n});\n\nregisterAction2(class OpenDefinitionToSideAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.revealDefinitionAside';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: true,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: OpenDefinitionToSideAction.id,\n\t\t\ttitle: nls.localize2('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tkeybinding: [{\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.F12),\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}, {\n\t\t\t\twhen: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.CtrlCmd | KeyCode.F12),\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}]\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\n\t}\n});\n\nregisterAction2(class PeekDefinitionAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.peekDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: PeekDefinitionAction.id,\n\t\t\ttitle: nls.localize2('actions.previewDecl.label', \"Peek Definition\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.Alt | KeyCode.F12,\n\t\t\t\tlinux: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F10 },\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 2\n\t\t\t}\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\n\t}\n});\n\n//#endregion\n\n//#region --- DECLARATION\n\nclass DeclarationAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, false, token), nls.localize('decl.title', 'Declarations'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n\t\t\t: nls.localize('decl.generic.noResults', \"No declaration found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeDeclarationCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleDeclarations;\n\t}\n}\n\nregisterAction2(class GoToDeclarationAction extends DeclarationAction {\n\n\tstatic readonly id = 'editor.action.revealDeclaration';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToDeclarationAction.id,\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('actions.goToDeclaration.label', \"Go to Declaration\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoDeclaration', comment: ['&& denotes a mnemonic'] }, \"Go to &&Declaration\"),\n\t\t\t},\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.3\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 3,\n\t\t\t}],\n\t\t});\n\t}\n\n\tprotected override _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n\t\t\t: nls.localize('decl.generic.noResults', \"No declaration found\");\n\t}\n});\n\nregisterAction2(class PeekDeclarationAction extends DeclarationAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: 'editor.action.peekDeclaration',\n\t\t\ttitle: nls.localize2('actions.peekDecl.label', \"Peek Declaration\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 3\n\t\t\t}\n\t\t});\n\t}\n});\n\n//#endregion\n\n//#region --- TYPE DEFINITION\n\nclass TypeDefinitionAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, false, token), nls.localize('typedef.title', 'Type Definitions'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\n\t\t\t: nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeTypeDefinitionCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleTypeDefinitions;\n\t}\n}\n\nregisterAction2(class GoToTypeDefinitionAction extends TypeDefinitionAction {\n\n\tpublic static readonly ID = 'editor.action.goToTypeDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToTypeDefinitionAction.ID,\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\"),\n\t\t\t},\n\t\t\tprecondition: EditorContextKeys.hasTypeDefinitionProvider,\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: 0,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.4\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 3,\n\t\t\t}]\n\t\t});\n\t}\n});\n\nregisterAction2(class PeekTypeDefinitionAction extends TypeDefinitionAction {\n\n\tpublic static readonly ID = 'editor.action.peekTypeDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: PeekTypeDefinitionAction.ID,\n\t\t\ttitle: nls.localize2('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasTypeDefinitionProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 4\n\t\t\t}\n\t\t});\n\t}\n});\n\n//#endregion\n\n//#region --- IMPLEMENTATION\n\nclass ImplementationAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, false, token), nls.localize('impl.title', 'Implementations'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\n\t\t\t: nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeImplementationCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleImplementations;\n\t}\n}\n\nregisterAction2(class GoToImplementationAction extends ImplementationAction {\n\n\tpublic static readonly ID = 'editor.action.goToImplementation';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToImplementationAction.ID,\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('actions.goToImplementation.label', \"Go to Implementations\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementations\"),\n\t\t\t},\n\t\t\tprecondition: EditorContextKeys.hasImplementationProvider,\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.45\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 4,\n\t\t\t}]\n\t\t});\n\t}\n});\n\nregisterAction2(class PeekImplementationAction extends ImplementationAction {\n\n\tpublic static readonly ID = 'editor.action.peekImplementation';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: PeekImplementationAction.ID,\n\t\t\ttitle: nls.localize2('actions.peekImplementation.label', \"Peek Implementations\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasImplementationProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 5\n\t\t\t}\n\t\t});\n\t}\n});\n\n//#endregion\n\n//#region --- REFERENCES\n\nabstract class ReferencesAction extends SymbolNavigationAction {\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info\n\t\t\t? nls.localize('references.no', \"No references found for '{0}'\", info.word)\n\t\t\t: nls.localize('references.noGeneric', \"No references found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeReferenceCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleReferences;\n\t}\n}\n\nregisterAction2(class GoToReferencesAction extends ReferencesAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: 'editor.action.goToReferences',\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('goToReferences.label', \"Go to References\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoReference', comment: ['&& denotes a mnemonic'] }, \"Go to &&References\"),\n\t\t\t},\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasReferenceProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.45\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 5,\n\t\t\t}]\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, true, false, token), nls.localize('ref.title', 'References'));\n\t}\n});\n\nregisterAction2(class PeekReferencesAction extends ReferencesAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: 'editor.action.referenceSearch.trigger',\n\t\t\ttitle: nls.localize2('references.action.label', \"Peek References\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasReferenceProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 6\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, false, token), nls.localize('ref.title', 'References'));\n\t}\n});\n\n//#endregion\n\n\n//#region --- GENERIC goto symbols command\n\nclass GenericGoToLocationAction extends SymbolNavigationAction {\n\n\tconstructor(\n\t\tconfig: SymbolNavigationActionConfig,\n\t\tprivate readonly _references: Location[],\n\t\tprivate readonly _gotoMultipleBehaviour: GoToLocationValues | undefined,\n\t) {\n\t\tsuper(config, {\n\t\t\tid: 'editor.action.goToLocation',\n\t\t\ttitle: nls.localize2('label.generic', \"Go to Any Symbol\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, _model: ITextModel, _position: corePosition.Position, _token: CancellationToken): Promise<ReferencesModel | undefined> {\n\t\treturn new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn this._gotoMultipleBehaviour ?? editor.getOption(EditorOption.gotoLocation).multipleReferences;\n\t}\n\n\tprotected _getAlternativeCommand(): undefined {\n\t\treturn undefined;\n\t}\n}\n\nCommandsRegistry.registerCommand({\n\tid: 'editor.action.goToLocations',\n\tmetadata: {\n\t\tdescription: 'Go to locations from a position in a file',\n\t\targs: [\n\t\t\t{ name: 'uri', description: 'The text document in which to start', constraint: URI },\n\t\t\t{ name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n\t\t\t{ name: 'locations', description: 'An array of locations.', constraint: Array },\n\t\t\t{ name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`' },\n\t\t\t{ name: 'noResultsMessage', description: 'Human readable message that shows when locations is empty.' },\n\t\t]\n\t},\n\thandler: async (accessor: ServicesAccessor, resource: any, position: any, references: any, multiple?: any, noResultsMessage?: string, openInPeek?: boolean) => {\n\t\tassertType(URI.isUri(resource));\n\t\tassertType(corePosition.Position.isIPosition(position));\n\t\tassertType(Array.isArray(references));\n\t\tassertType(typeof multiple === 'undefined' || typeof multiple === 'string');\n\t\tassertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\n\n\t\tconst editorService = accessor.get(ICodeEditorService);\n\t\tconst editor = await editorService.openCodeEditor({ resource }, editorService.getFocusedCodeEditor());\n\n\t\tif (isCodeEditor(editor)) {\n\t\t\teditor.setPosition(position);\n\t\t\teditor.revealPositionInCenterIfOutsideViewport(position, ScrollType.Smooth);\n\n\t\t\treturn editor.invokeWithinContext(accessor => {\n\t\t\t\tconst command = new class extends GenericGoToLocationAction {\n\t\t\t\t\tprotected override _getNoResultFoundMessage(info: IWordAtPosition | null) {\n\t\t\t\t\t\treturn noResultsMessage || super._getNoResultFoundMessage(info);\n\t\t\t\t\t}\n\t\t\t\t}({\n\t\t\t\t\tmuteMessage: !Boolean(noResultsMessage),\n\t\t\t\t\topenInPeek: Boolean(openInPeek),\n\t\t\t\t\topenToSide: false\n\t\t\t\t}, references, multiple as GoToLocationValues);\n\n\t\t\t\taccessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\n\t\t\t});\n\t\t}\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tid: 'editor.action.peekLocations',\n\tmetadata: {\n\t\tdescription: 'Peek locations from a position in a file',\n\t\targs: [\n\t\t\t{ name: 'uri', description: 'The text document in which to start', constraint: URI },\n\t\t\t{ name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n\t\t\t{ name: 'locations', description: 'An array of locations.', constraint: Array },\n\t\t\t{ name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`' },\n\t\t]\n\t},\n\thandler: async (accessor: ServicesAccessor, resource: any, position: any, references: any, multiple?: any) => {\n\t\taccessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, undefined, true);\n\t}\n});\n\n//#endregion\n\n\n//#region --- REFERENCE search special commands\n\nCommandsRegistry.registerCommand({\n\tid: 'editor.action.findReferences',\n\thandler: (accessor: ServicesAccessor, resource: any, position: any) => {\n\t\tassertType(URI.isUri(resource));\n\t\tassertType(corePosition.Position.isIPosition(position));\n\n\t\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\treturn codeEditorService.openCodeEditor({ resource }, codeEditorService.getFocusedCodeEditor()).then(control => {\n\t\t\tif (!isCodeEditor(control) || !control.hasModel()) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst controller = ReferencesController.get(control);\n\t\t\tif (!controller) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst references = createCancelablePromise(token => getReferencesAtPosition(languageFeaturesService.referenceProvider, control.getModel(), corePosition.Position.lift(position), false, false, token).then(references => new ReferencesModel(references, nls.localize('ref.title', 'References'))));\n\t\t\tconst range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n\t\t\treturn Promise.resolve(controller.toggleWidget(range, references, false));\n\t\t});\n\t}\n});\n\n// use NEW command\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\n\n//#endregion\n"]}