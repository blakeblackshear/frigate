{"version":3,"sources":["vs/editor/browser/widget/diffEditor/commands.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,gBAAgB,EAAE,MAAM,iCAAiC,CAAC;AACnE,OAAO,EAAE,OAAO,EAAE,MAAM,qCAAqC,CAAC;AAG9D,OAAO,EAAE,aAAa,EAAoB,MAAM,2BAA2B,CAAC;AAC5E,OAAO,EAAE,kBAAkB,EAAE,MAAM,qCAAqC,CAAC;AACzE,OAAO,EAAE,gBAAgB,EAAE,MAAM,uBAAuB,CAAC;AACzD,OAAO,EAAE,iBAAiB,EAAE,MAAM,sCAAsC,CAAC;AACzE,OAAO,EAAE,SAAS,EAAE,MAAM,oBAAoB,CAAC;AAE/C,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,gDAAgD,CAAC;AACjF,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,cAAc,EAAE,MAAM,sDAAsD,CAAC;AAEtF,OAAO,iCAAiC,CAAC;AAIzC,MAAM,OAAO,8BAA+B,SAAQ,OAAO;IAC1D;QACC,KAAK,CAAC;YACL,EAAE,EAAE,2CAA2C;YAC/C,KAAK,EAAE,SAAS,CAAC,EAAgC,EAAE,mCAAmC,CAAC;YACvF,IAAI,EAAE,OAAO,CAAC,GAAG;YACjB,OAAO,EAAE,cAAc,CAAC,GAAG,CAAC,gDAAgD,CAAC;YAC7E,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC;YAClD,IAAI,EAAE;gBACL,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC;gBAC1C,EAAE,EAAE,MAAM,CAAC,WAAW;gBACtB,KAAK,EAAE,EAAE;gBACT,KAAK,EAAE,YAAY;aACnB;SACD,CAAC,CAAC;IACJ,CAAC;IAED,GAAG,CAAC,QAA0B,EAAE,GAAG,IAAe;QACjD,MAAM,oBAAoB,GAAG,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACjE,MAAM,QAAQ,GAAG,CAAC,oBAAoB,CAAC,QAAQ,CAAU,yCAAyC,CAAC,CAAC;QACpG,oBAAoB,CAAC,WAAW,CAAC,yCAAyC,EAAE,QAAQ,CAAC,CAAC;IACvF,CAAC;CACD;AAED,MAAM,OAAO,yBAA0B,SAAQ,OAAO;IACrD;QACC,KAAK,CAAC;YACL,EAAE,EAAE,sCAAsC;YAC1C,KAAK,EAAE,SAAS,CAAC,EAA2B,EAAE,+BAA+B,CAAC;YAC9E,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC;SAClD,CAAC,CAAC;IACJ,CAAC;IAED,GAAG,CAAC,QAA0B,EAAE,GAAG,IAAe;QACjD,MAAM,oBAAoB,GAAG,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACjE,MAAM,QAAQ,GAAG,CAAC,oBAAoB,CAAC,QAAQ,CAAU,mCAAmC,CAAC,CAAC;QAC9F,oBAAoB,CAAC,WAAW,CAAC,mCAAmC,EAAE,QAAQ,CAAC,CAAC;IACjF,CAAC;CACD;AAED,MAAM,OAAO,qCAAsC,SAAQ,OAAO;IACjE;QACC,KAAK,CAAC;YACL,EAAE,EAAE,kDAAkD;YACtD,KAAK,EAAE,SAAS,CAAC,EAAuC,EAAE,8CAA8C,CAAC;YACzG,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC;SAClD,CAAC,CAAC;IACJ,CAAC;IAED,GAAG,CAAC,QAA0B,EAAE,GAAG,IAAe;QACjD,MAAM,oBAAoB,GAAG,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACjE,MAAM,QAAQ,GAAG,CAAC,oBAAoB,CAAC,QAAQ,CAAU,4CAA4C,CAAC,CAAC;QACvG,oBAAoB,CAAC,WAAW,CAAC,4CAA4C,EAAE,QAAQ,CAAC,CAAC;IAC1F,CAAC;CACD;AAED,MAAM,kBAAkB,GAAqB,SAAS,CAAC,EAAY,EAAE,aAAa,CAAC,CAAC;AAEpF,MAAM,OAAO,UAAW,SAAQ,aAAa;IAC5C;QACC,KAAK,CAAC;YACL,EAAE,EAAE,uBAAuB;YAC3B,KAAK,EAAE,SAAS,CAAC,EAAY,EAAE,aAAa,CAAC;YAC7C,IAAI,EAAE,OAAO,CAAC,SAAS;YACvB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC;YAClD,EAAE,EAAE,IAAI;YACR,QAAQ,EAAE,kBAAkB;SAC5B,CAAC,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,QAA0B,EAAE,MAAmB,EAAE,GAAyB;QAC1F,MAAM,UAAU,GAAG,qBAAqB,CAAC,QAAQ,CAAC,CAAC;QACnD,IAAI,UAAU,YAAY,gBAAgB,EAAE,CAAC;YAC5C,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,EAAE,CAAC;gBACvB,OAAO,EAAE,oBAAoB,EAAE,UAAU,CAAC,cAAc,EAAE,CAAC,oBAAoB,EAAE,CAAC;YACnF,CAAC;iBAAM,CAAC;gBACP,UAAU,CAAC,UAAU,EAAE,CAAC;YACzB,CAAC;QACF,CAAC;QACD,OAAO,SAAS,CAAC;IAClB,CAAC;CACD;AACD,MAAM,OAAO,eAAgB,SAAQ,aAAa;IACjD;QACC,KAAK,CAAC;YACL,EAAE,EAAE,4BAA4B;YAChC,KAAK,EAAE,SAAS,CAAC,EAAiB,EAAE,mBAAmB,CAAC;YACxD,IAAI,EAAE,OAAO,CAAC,KAAK;YACnB,YAAY,EAAE,iBAAiB,CAAC,kBAAkB;YAClD,EAAE,EAAE,KAAK;YACT,QAAQ,EAAE,kBAAkB;YAC5B,UAAU,EAAE;gBACX,MAAM,EAAE,KAAK;gBACb,OAAO,wBAAgB;aACvB;SACD,CAAC,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,QAA0B,EAAE,MAAmB,EAAE,GAAG,IAAe;QACnF,MAAM,UAAU,GAAG,qBAAqB,CAAC,QAAQ,CAAC,CAAC;QACnD,IAAI,UAAU,YAAY,gBAAgB,EAAE,CAAC;YAC5C,UAAU,CAAC,eAAe,EAAE,CAAC;QAC9B,CAAC;IACF,CAAC;CACD;AAED,MAAM,OAAO,2BAA4B,SAAQ,aAAa;IAC7D;QACC,KAAK,CAAC;YACL,EAAE,EAAE,wCAAwC;YAC5C,KAAK,EAAE,SAAS,CAAC,EAA6B,EAAE,gCAAgC,CAAC;YACjF,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC;YAClD,EAAE,EAAE,IAAI;YACR,QAAQ,EAAE,kBAAkB;SAC5B,CAAC,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,QAA0B,EAAE,MAAmB,EAAE,GAAG,IAAe;QACnF,MAAM,UAAU,GAAG,qBAAqB,CAAC,QAAQ,CAAC,CAAC;QACnD,IAAI,UAAU,YAAY,gBAAgB,EAAE,CAAC;YAC5C,UAAU,CAAC,2BAA2B,EAAE,CAAC;QAC1C,CAAC;IACF,CAAC;CACD;AAED,MAAM,OAAO,uBAAwB,SAAQ,aAAa;IACzD;QACC,KAAK,CAAC;YACL,EAAE,EAAE,oCAAoC;YACxC,KAAK,EAAE,SAAS,CAAC,EAAyB,EAAE,4BAA4B,CAAC;YACzE,IAAI,EAAE,OAAO,CAAC,MAAM;YACpB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC;YAClD,EAAE,EAAE,IAAI;YACR,QAAQ,EAAE,kBAAkB;SAC5B,CAAC,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,QAA0B,EAAE,MAAmB,EAAE,GAAG,IAAe;QACnF,MAAM,UAAU,GAAG,qBAAqB,CAAC,QAAQ,CAAC,CAAC;QACnD,IAAI,UAAU,YAAY,gBAAgB,EAAE,CAAC;YAC5C,UAAU,CAAC,uBAAuB,EAAE,CAAC;QACtC,CAAC;IACF,CAAC;CACD;AAED,MAAM,OAAO,qBAAsB,SAAQ,OAAO;IACjD;QACC,KAAK,CAAC;YACL,EAAE,EAAE,mBAAmB;YACvB,KAAK,EAAE,SAAS,CAAC,EAAQ,EAAE,QAAQ,CAAC;YACpC,EAAE,EAAE,KAAK;YACT,QAAQ,EAAE,kBAAkB;SAC5B,CAAC,CAAC;IACJ,CAAC;IAED,GAAG,CAAC,QAA0B,EAAE,GAA0C;QACzE,MAAM,UAAU,GAAG,cAAc,CAAC,QAAQ,EAAE,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC;QAC9E,IAAI,UAAU,YAAY,gBAAgB,EAAE,CAAC;YAC5C,UAAU,CAAC,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,IAAI,EAAE,CAAC,CAAC;QAChE,CAAC;QACD,OAAO,SAAS,CAAC;IAClB,CAAC;CACD;AAED,MAAM,4BAA4B,GAAqB,SAAS,CAAC,EAAsB,EAAE,wBAAwB,CAAC,CAAC;AAEnH,MAAM,OAAO,wBAAyB,SAAQ,OAAO;aACtC,OAAE,GAAG,yCAAyC,CAAC;IAE7D;QACC,KAAK,CAAC;YACL,EAAE,EAAE,wBAAwB,CAAC,EAAE;YAC/B,KAAK,EAAE,SAAS,CAAC,EAAyC,EAAE,uBAAuB,CAAC;YACpF,QAAQ,EAAE,4BAA4B;YACtC,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC;YAClD,UAAU,EAAE;gBACX,OAAO,qBAAY;gBACnB,MAAM,0CAAgC;aACtC;YACD,EAAE,EAAE,IAAI;SACR,CAAC,CAAC;IACJ,CAAC;IAEe,GAAG,CAAC,QAA0B;QAC7C,MAAM,UAAU,GAAG,qBAAqB,CAAC,QAAQ,CAAC,CAAC;QACnD,UAAU,EAAE,wBAAwB,EAAE,CAAC;IACxC,CAAC;;AAGF,MAAM,OAAO,wBAAyB,SAAQ,OAAO;aACtC,OAAE,GAAG,yCAAyC,CAAC;IAE7D;QACC,KAAK,CAAC;YACL,EAAE,EAAE,wBAAwB,CAAC,EAAE;YAC/B,KAAK,EAAE,SAAS,CAAC,EAAyC,EAAE,2BAA2B,CAAC;YACxF,QAAQ,EAAE,4BAA4B;YACtC,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC;YAClD,UAAU,EAAE;gBACX,OAAO,EAAE,6CAAyB;gBAClC,MAAM,0CAAgC;aACtC;YACD,EAAE,EAAE,IAAI;SACR,CAAC,CAAC;IACJ,CAAC;IAEe,GAAG,CAAC,QAA0B;QAC7C,MAAM,UAAU,GAAG,qBAAqB,CAAC,QAAQ,CAAC,CAAC;QACnD,UAAU,EAAE,wBAAwB,EAAE,CAAC;IACxC,CAAC;;AAGF,MAAM,UAAU,cAAc,CAAC,QAA0B,EAAE,WAAgB,EAAE,WAAgB;IAC5F,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAC3D,MAAM,WAAW,GAAG,iBAAiB,CAAC,eAAe,EAAE,CAAC;IAExD,OAAO,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;QACpC,MAAM,QAAQ,GAAG,UAAU,CAAC,iBAAiB,EAAE,CAAC;QAChD,MAAM,QAAQ,GAAG,UAAU,CAAC,iBAAiB,EAAE,CAAC;QAEhD,OAAO,QAAQ,IAAI,QAAQ,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,QAAQ,EAAE,KAAK,WAAW,CAAC,QAAQ,EAAE;eAC7E,QAAQ,IAAI,QAAQ,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,QAAQ,EAAE,KAAK,WAAW,CAAC,QAAQ,EAAE,CAAC;IAChF,CAAC,CAAC,IAAI,IAAI,CAAC;AACZ,CAAC;AAED,MAAM,UAAU,qBAAqB,CAAC,QAA0B;IAC/D,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAC3D,MAAM,WAAW,GAAG,iBAAiB,CAAC,eAAe,EAAE,CAAC;IAExD,MAAM,aAAa,GAAG,gBAAgB,EAAE,CAAC;IACzC,IAAI,aAAa,EAAE,CAAC;QACnB,KAAK,MAAM,CAAC,IAAI,WAAW,EAAE,CAAC;YAC7B,MAAM,SAAS,GAAG,CAAC,CAAC,mBAAmB,EAAE,CAAC;YAC1C,IAAI,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC;gBACvC,OAAO,CAAC,CAAC;YACV,CAAC;QACF,CAAC;IACF,CAAC;IAED,OAAO,IAAI,CAAC;AACb,CAAC","file":"commands.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getActiveElement } from '../../../../base/browser/dom.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { ICodeEditor, IDiffEditor } from '../../editorBrowser.js';\nimport { EditorAction2, ServicesAccessor } from '../../editorExtensions.js';\nimport { ICodeEditorService } from '../../services/codeEditorService.js';\nimport { DiffEditorWidget } from './diffEditorWidget.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { localize2 } from '../../../../nls.js';\nimport { ILocalizedString } from '../../../../platform/action/common/action.js';\nimport { Action2, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport './registrations.contribution.js';\nimport { DiffEditorSelectionHunkToolbarContext } from './features/gutterFeature.js';\nimport { URI } from '../../../../base/common/uri.js';\n\nexport class ToggleCollapseUnchangedRegions extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'diffEditor.toggleCollapseUnchangedRegions',\n\t\t\ttitle: localize2('toggleCollapseUnchangedRegions', 'Toggle Collapse Unchanged Regions'),\n\t\t\ticon: Codicon.map,\n\t\t\ttoggled: ContextKeyExpr.has('config.diffEditor.hideUnchangedRegions.enabled'),\n\t\t\tprecondition: ContextKeyExpr.has('isInDiffEditor'),\n\t\t\tmenu: {\n\t\t\t\twhen: ContextKeyExpr.has('isInDiffEditor'),\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\torder: 22,\n\t\t\t\tgroup: 'navigation',\n\t\t\t},\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst newValue = !configurationService.getValue<boolean>('diffEditor.hideUnchangedRegions.enabled');\n\t\tconfigurationService.updateValue('diffEditor.hideUnchangedRegions.enabled', newValue);\n\t}\n}\n\nexport class ToggleShowMovedCodeBlocks extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'diffEditor.toggleShowMovedCodeBlocks',\n\t\t\ttitle: localize2('toggleShowMovedCodeBlocks', 'Toggle Show Moved Code Blocks'),\n\t\t\tprecondition: ContextKeyExpr.has('isInDiffEditor'),\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst newValue = !configurationService.getValue<boolean>('diffEditor.experimental.showMoves');\n\t\tconfigurationService.updateValue('diffEditor.experimental.showMoves', newValue);\n\t}\n}\n\nexport class ToggleUseInlineViewWhenSpaceIsLimited extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'diffEditor.toggleUseInlineViewWhenSpaceIsLimited',\n\t\t\ttitle: localize2('toggleUseInlineViewWhenSpaceIsLimited', 'Toggle Use Inline View When Space Is Limited'),\n\t\t\tprecondition: ContextKeyExpr.has('isInDiffEditor'),\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst newValue = !configurationService.getValue<boolean>('diffEditor.useInlineViewWhenSpaceIsLimited');\n\t\tconfigurationService.updateValue('diffEditor.useInlineViewWhenSpaceIsLimited', newValue);\n\t}\n}\n\nconst diffEditorCategory: ILocalizedString = localize2('diffEditor', \"Diff Editor\");\n\nexport class SwitchSide extends EditorAction2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'diffEditor.switchSide',\n\t\t\ttitle: localize2('switchSide', 'Switch Side'),\n\t\t\ticon: Codicon.arrowSwap,\n\t\t\tprecondition: ContextKeyExpr.has('isInDiffEditor'),\n\t\t\tf1: true,\n\t\t\tcategory: diffEditorCategory,\n\t\t});\n\t}\n\n\trunEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor, arg?: { dryRun: boolean }): unknown {\n\t\tconst diffEditor = findFocusedDiffEditor(accessor);\n\t\tif (diffEditor instanceof DiffEditorWidget) {\n\t\t\tif (arg && arg.dryRun) {\n\t\t\t\treturn { destinationSelection: diffEditor.mapToOtherSide().destinationSelection };\n\t\t\t} else {\n\t\t\t\tdiffEditor.switchSide();\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n}\nexport class ExitCompareMove extends EditorAction2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'diffEditor.exitCompareMove',\n\t\t\ttitle: localize2('exitCompareMove', 'Exit Compare Move'),\n\t\t\ticon: Codicon.close,\n\t\t\tprecondition: EditorContextKeys.comparingMovedCode,\n\t\t\tf1: false,\n\t\t\tcategory: diffEditorCategory,\n\t\t\tkeybinding: {\n\t\t\t\tweight: 10000,\n\t\t\t\tprimary: KeyCode.Escape,\n\t\t\t}\n\t\t});\n\t}\n\n\trunEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor, ...args: unknown[]): void {\n\t\tconst diffEditor = findFocusedDiffEditor(accessor);\n\t\tif (diffEditor instanceof DiffEditorWidget) {\n\t\t\tdiffEditor.exitCompareMove();\n\t\t}\n\t}\n}\n\nexport class CollapseAllUnchangedRegions extends EditorAction2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'diffEditor.collapseAllUnchangedRegions',\n\t\t\ttitle: localize2('collapseAllUnchangedRegions', 'Collapse All Unchanged Regions'),\n\t\t\ticon: Codicon.fold,\n\t\t\tprecondition: ContextKeyExpr.has('isInDiffEditor'),\n\t\t\tf1: true,\n\t\t\tcategory: diffEditorCategory,\n\t\t});\n\t}\n\n\trunEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor, ...args: unknown[]): void {\n\t\tconst diffEditor = findFocusedDiffEditor(accessor);\n\t\tif (diffEditor instanceof DiffEditorWidget) {\n\t\t\tdiffEditor.collapseAllUnchangedRegions();\n\t\t}\n\t}\n}\n\nexport class ShowAllUnchangedRegions extends EditorAction2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'diffEditor.showAllUnchangedRegions',\n\t\t\ttitle: localize2('showAllUnchangedRegions', 'Show All Unchanged Regions'),\n\t\t\ticon: Codicon.unfold,\n\t\t\tprecondition: ContextKeyExpr.has('isInDiffEditor'),\n\t\t\tf1: true,\n\t\t\tcategory: diffEditorCategory,\n\t\t});\n\t}\n\n\trunEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor, ...args: unknown[]): void {\n\t\tconst diffEditor = findFocusedDiffEditor(accessor);\n\t\tif (diffEditor instanceof DiffEditorWidget) {\n\t\t\tdiffEditor.showAllUnchangedRegions();\n\t\t}\n\t}\n}\n\nexport class RevertHunkOrSelection extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'diffEditor.revert',\n\t\t\ttitle: localize2('revert', 'Revert'),\n\t\t\tf1: false,\n\t\t\tcategory: diffEditorCategory,\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, arg: DiffEditorSelectionHunkToolbarContext): unknown {\n\t\tconst diffEditor = findDiffEditor(accessor, arg.originalUri, arg.modifiedUri);\n\t\tif (diffEditor instanceof DiffEditorWidget) {\n\t\t\tdiffEditor.revertRangeMappings(arg.mapping.innerChanges ?? []);\n\t\t}\n\t\treturn undefined;\n\t}\n}\n\nconst accessibleDiffViewerCategory: ILocalizedString = localize2('accessibleDiffViewer', \"Accessible Diff Viewer\");\n\nexport class AccessibleDiffViewerNext extends Action2 {\n\tpublic static id = 'editor.action.accessibleDiffViewer.next';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: AccessibleDiffViewerNext.id,\n\t\t\ttitle: localize2('editor.action.accessibleDiffViewer.next', 'Go to Next Difference'),\n\t\t\tcategory: accessibleDiffViewerCategory,\n\t\t\tprecondition: ContextKeyExpr.has('isInDiffEditor'),\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyCode.F7,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\tpublic override run(accessor: ServicesAccessor): void {\n\t\tconst diffEditor = findFocusedDiffEditor(accessor);\n\t\tdiffEditor?.accessibleDiffViewerNext();\n\t}\n}\n\nexport class AccessibleDiffViewerPrev extends Action2 {\n\tpublic static id = 'editor.action.accessibleDiffViewer.prev';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: AccessibleDiffViewerPrev.id,\n\t\t\ttitle: localize2('editor.action.accessibleDiffViewer.prev', 'Go to Previous Difference'),\n\t\t\tcategory: accessibleDiffViewerCategory,\n\t\t\tprecondition: ContextKeyExpr.has('isInDiffEditor'),\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.F7,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\tpublic override run(accessor: ServicesAccessor): void {\n\t\tconst diffEditor = findFocusedDiffEditor(accessor);\n\t\tdiffEditor?.accessibleDiffViewerPrev();\n\t}\n}\n\nexport function findDiffEditor(accessor: ServicesAccessor, originalUri: URI, modifiedUri: URI): IDiffEditor | null {\n\tconst codeEditorService = accessor.get(ICodeEditorService);\n\tconst diffEditors = codeEditorService.listDiffEditors();\n\n\treturn diffEditors.find(diffEditor => {\n\t\tconst modified = diffEditor.getModifiedEditor();\n\t\tconst original = diffEditor.getOriginalEditor();\n\n\t\treturn modified && modified.getModel()?.uri.toString() === modifiedUri.toString()\n\t\t\t&& original && original.getModel()?.uri.toString() === originalUri.toString();\n\t}) || null;\n}\n\nexport function findFocusedDiffEditor(accessor: ServicesAccessor): IDiffEditor | null {\n\tconst codeEditorService = accessor.get(ICodeEditorService);\n\tconst diffEditors = codeEditorService.listDiffEditors();\n\n\tconst activeElement = getActiveElement();\n\tif (activeElement) {\n\t\tfor (const d of diffEditors) {\n\t\t\tconst container = d.getContainerDomNode();\n\t\t\tif (container.contains(activeElement)) {\n\t\t\t\treturn d;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n"]}