!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("react-fast-compare"),require("invariant"),require("shallowequal")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","react-fast-compare","invariant","shallowequal"],t):t((e||self).reactHelmetAsync={},e.react,e.propTypes,e.reactFastCompare,e.invariant,e.shallowequal)}(this,function(e,t,r,n,i,a){function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=/*#__PURE__*/o(t),s=/*#__PURE__*/o(r),c=/*#__PURE__*/o(n),l=/*#__PURE__*/o(i),f=/*#__PURE__*/o(a);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}var y="cssText",T="href",g="innerHTML",b="itemprop",v="rel",A="bodyAttributes",C="htmlAttributes",O={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},S={rel:["amphtml","canonical","alternate"]},E={type:["application/ld+json"]},w={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},I=Object.keys(O).map(function(e){return O[e]}),P={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},j=Object.keys(P).reduce(function(e,t){return e[P[t]]=t,e},{}),x="data-rh",L=function(e,t){for(var r=e.length-1;r>=0;r-=1){var n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},k=function(e){var t=L(e,O.TITLE),r=L(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,function(){return t});var n=L(e,"defaultTitle");return t||n||void 0},M=function(e){return L(e,"onChangeClientState")||function(){}},H=function(e,t){return t.filter(function(t){return void 0!==t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return d({},e,t)},{})},N=function(e,t){return t.filter(function(e){return void 0!==e[O.BASE]}).map(function(e){return e[O.BASE]}).reverse().reduce(function(t,r){if(!t.length)for(var n=Object.keys(r),i=0;i<n.length;i+=1){var a=n[i].toLowerCase();if(-1!==e.indexOf(a)&&r[a])return t.concat(r)}return t},[])},D=function(e,t,r){var n={};return r.filter(function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&console&&"function"==typeof console.warn&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof t[e]+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,r){var i={};r.filter(function(e){for(var r,a=Object.keys(e),o=0;o<a.length;o+=1){var u=a[o],s=u.toLowerCase();-1===t.indexOf(s)||r===v&&"canonical"===e[r].toLowerCase()||s===v&&"stylesheet"===e[s].toLowerCase()||(r=s),-1===t.indexOf(u)||u!==g&&u!==y&&u!==b||(r=u)}if(!r||!e[r])return!1;var c=e[r].toLowerCase();return n[r]||(n[r]={}),i[r]||(i[r]={}),!n[r][c]&&(i[r][c]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var a=Object.keys(i),o=0;o<a.length;o+=1){var u=a[o],s=d({},n[u],i[u]);n[u]=s}return e},[]).reverse()},R=function(e,t){if(Array.isArray(e)&&e.length)for(var r=0;r<e.length;r+=1)if(e[r][t])return!0;return!1},q=function(e){return Array.isArray(e)?e.join(""):e},U=function(e,t){return Array.isArray(e)?e.reduce(function(e,r){return function(e,t){for(var r=Object.keys(e),n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1}(r,t)?e.priority.push(r):e.default.push(r),e},{priority:[],default:[]}):{default:e}},Y=function(e,t){var r;return d({},e,((r={})[t]=void 0,r))},B=[O.NOSCRIPT,O.SCRIPT,O.STYLE],K=function(e,t){return void 0===t&&(t=!0),!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},_=function(e){return Object.keys(e).reduce(function(t,r){var n=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n},"")},z=function(e,t){return void 0===t&&(t={}),Object.keys(e).reduce(function(t,r){return t[P[r]||r]=e[r],t},t)},F=function(e,t){return t.map(function(t,r){var n,i=((n={key:r})["data-rh"]=!0,n);return Object.keys(t).forEach(function(e){var r=P[e]||e;r===g||r===y?i.dangerouslySetInnerHTML={__html:t.innerHTML||t.cssText}:i[r]=t[e]}),u.default.createElement(e,i)})},G=function(e,t,r){switch(e){case O.TITLE:return{toComponent:function(){return r=t.titleAttributes,(n={key:e=t.title})["data-rh"]=!0,i=z(r,n),[u.default.createElement(O.TITLE,i,e)];var e,r,n,i},toString:function(){return function(e,t,r,n){var i=_(r),a=q(t);return i?"<"+e+' data-rh="true" '+i+">"+K(a,n)+"</"+e+">":"<"+e+' data-rh="true">'+K(a,n)+"</"+e+">"}(e,t.title,t.titleAttributes,r)}};case A:case C:return{toComponent:function(){return z(t)},toString:function(){return _(t)}};default:return{toComponent:function(){return F(e,t)},toString:function(){return function(e,t,r){return t.reduce(function(t,n){var i=Object.keys(n).filter(function(e){return!(e===g||e===y)}).reduce(function(e,t){var i=void 0===n[t]?t:t+'="'+K(n[t],r)+'"';return e?e+" "+i:i},""),a=n.innerHTML||n.cssText||"",o=-1===B.indexOf(e);return t+"<"+e+' data-rh="true" '+i+(o?"/>":">"+a+"</"+e+">")},"")}(e,t,r)}}}},W=function(e){var t=e.baseTag,r=e.bodyAttributes,n=e.encode,i=e.htmlAttributes,a=e.noscriptTags,o=e.styleTags,u=e.title,s=void 0===u?"":u,c=e.titleAttributes,l=e.linkTags,f=e.metaTags,d=e.scriptTags,p={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var h=function(e){var t=e.linkTags,r=e.scriptTags,n=e.encode,i=U(e.metaTags,w),a=U(t,S),o=U(r,E);return{priorityMethods:{toComponent:function(){return[].concat(F(O.META,i.priority),F(O.LINK,a.priority),F(O.SCRIPT,o.priority))},toString:function(){return G(O.META,i.priority,n)+" "+G(O.LINK,a.priority,n)+" "+G(O.SCRIPT,o.priority,n)}},metaTags:i.default,linkTags:a.default,scriptTags:o.default}}(e);p=h.priorityMethods,l=h.linkTags,f=h.metaTags,d=h.scriptTags}return{priority:p,base:G(O.BASE,t,n),bodyAttributes:G(A,r,n),htmlAttributes:G(C,i,n),link:G(O.LINK,l,n),meta:G(O.META,f,n),noscript:G(O.NOSCRIPT,a,n),script:G(O.SCRIPT,d,n),style:G(O.STYLE,o,n),title:G(O.TITLE,{title:s,titleAttributes:c},n)}},J=[],Q=function(e,t){var r=this;void 0===t&&(t="undefined"!=typeof document),this.instances=[],this.value={setHelmet:function(e){r.context.helmet=e},helmetInstances:{get:function(){return r.canUseDOM?J:r.instances},add:function(e){(r.canUseDOM?J:r.instances).push(e)},remove:function(e){var t=(r.canUseDOM?J:r.instances).indexOf(e);(r.canUseDOM?J:r.instances).splice(t,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=W({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},V=u.default.createContext({}),X=s.default.shape({setHelmet:s.default.func,helmetInstances:s.default.shape({get:s.default.func,add:s.default.func,remove:s.default.func})}),Z="undefined"!=typeof document,$=/*#__PURE__*/function(e){function t(r){var n;return(n=e.call(this,r)||this).helmetData=new Q(n.props.context,t.canUseDOM),n}return p(t,e),t.prototype.render=function(){/*#__PURE__*/return u.default.createElement(V.Provider,{value:this.helmetData.value},this.props.children)},t}(t.Component);$.canUseDOM=Z,$.propTypes={context:s.default.shape({helmet:s.default.shape()}),children:s.default.node.isRequired},$.defaultProps={context:{}},$.displayName="HelmetProvider";var ee=function(e,t){var r,n=document.head||document.querySelector(O.HEAD),i=n.querySelectorAll(e+"[data-rh]"),a=[].slice.call(i),o=[];return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(i===g?n.innerHTML=t.innerHTML:i===y?n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText)):n.setAttribute(i,void 0===t[i]?"":t[i]));n.setAttribute(x,"true"),a.some(function(e,t){return r=t,n.isEqualNode(e)})?a.splice(r,1):o.push(n)}),a.forEach(function(e){return e.parentNode.removeChild(e)}),o.forEach(function(e){return n.appendChild(e)}),{oldTags:a,newTags:o}},te=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute(x),i=n?n.split(","):[],a=[].concat(i),o=Object.keys(t),u=0;u<o.length;u+=1){var s=o[u],c=t[s]||"";r.getAttribute(s)!==c&&r.setAttribute(s,c),-1===i.indexOf(s)&&i.push(s);var l=a.indexOf(s);-1!==l&&a.splice(l,1)}for(var f=a.length-1;f>=0;f-=1)r.removeAttribute(a[f]);i.length===a.length?r.removeAttribute(x):r.getAttribute(x)!==o.join(",")&&r.setAttribute(x,o.join(","))}},re=function(e,t){var r=e.baseTag,n=e.htmlAttributes,i=e.linkTags,a=e.metaTags,o=e.noscriptTags,u=e.onChangeClientState,s=e.scriptTags,c=e.styleTags,l=e.title,f=e.titleAttributes;te(O.BODY,e.bodyAttributes),te(O.HTML,n),function(e,t){void 0!==e&&document.title!==e&&(document.title=q(e)),te(O.TITLE,t)}(l,f);var d={baseTag:ee(O.BASE,r),linkTags:ee(O.LINK,i),metaTags:ee(O.META,a),noscriptTags:ee(O.NOSCRIPT,o),scriptTags:ee(O.SCRIPT,s),styleTags:ee(O.STYLE,c)},p={},h={};Object.keys(d).forEach(function(e){var t=d[e],r=t.newTags,n=t.oldTags;r.length&&(p[e]=r),n.length&&(h[e]=d[e].oldTags)}),t&&t(),u(e,p,h)},ne=null,ie=/*#__PURE__*/function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).rendered=!1,t}p(t,e);var r=t.prototype;return r.shouldComponentUpdate=function(e){return!f.default(e,this.props)},r.componentDidUpdate=function(){this.emitChange()},r.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},r.emitChange=function(){var e,t,r=this.props.context,n=r.setHelmet,i=null,a=(e=r.helmetInstances.get().map(function(e){var t=d({},e.props);return delete t.context,t}),{baseTag:N([T],e),bodyAttributes:H(A,e),defer:L(e,"defer"),encode:L(e,"encodeSpecialCharacters"),htmlAttributes:H(C,e),linkTags:D(O.LINK,[v,T],e),metaTags:D(O.META,["name","charset","http-equiv","property",b],e),noscriptTags:D(O.NOSCRIPT,[g],e),onChangeClientState:M(e),scriptTags:D(O.SCRIPT,["src",g],e),styleTags:D(O.STYLE,[y],e),title:k(e),titleAttributes:H("titleAttributes",e),prioritizeSeoTags:R(e,"prioritizeSeoTags")});$.canUseDOM?(t=a,ne&&cancelAnimationFrame(ne),t.defer?ne=requestAnimationFrame(function(){re(t,function(){ne=null})}):(re(t),ne=null)):W&&(i=W(a)),n(i)},r.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},r.render=function(){return this.init(),null},t}(t.Component);ie.propTypes={context:X.isRequired},ie.displayName="HelmetDispatcher";var ae=["children"],oe=["children"],ue=/*#__PURE__*/function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var r=t.prototype;return r.shouldComponentUpdate=function(e){return!c.default(Y(this.props,"helmetData"),Y(e,"helmetData"))},r.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case O.SCRIPT:case O.NOSCRIPT:return{innerHTML:t};case O.STYLE:return{cssText:t};default:throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},r.flattenArrayTypeChildren=function(e){var t,r=e.child,n=e.arrayTypeChildren;return d({},n,((t={})[r.type]=[].concat(n[r.type]||[],[d({},e.newChildProps,this.mapNestedChildrenToProps(r,e.nestedChildren))]),t))},r.mapObjectTypeChildren=function(e){var t,r,n=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(n.type){case O.TITLE:return d({},i,((t={})[n.type]=o,t.titleAttributes=d({},a),t));case O.BODY:return d({},i,{bodyAttributes:d({},a)});case O.HTML:return d({},i,{htmlAttributes:d({},a)});default:return d({},i,((r={})[n.type]=d({},a),r))}},r.mapArrayTypeChildrenToProps=function(e,t){var r=d({},t);return Object.keys(e).forEach(function(t){var n;r=d({},r,((n={})[t]=e[t],n))}),r},r.warnOnInvalidChildren=function(e,t){return l.default(I.some(function(t){return e.type===t}),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+I.join(", ")+" are allowed. Helmet does not support rendering <"+e.type+"> elements. Refer to our API for more information."),l.default(!t||"string"==typeof t||Array.isArray(t)&&!t.some(function(e){return"string"!=typeof e}),"Helmet expects a string as a child of <"+e.type+">. Did you forget to wrap your children in braces? ( <"+e.type+">{``}</"+e.type+"> ) Refer to our API for more information."),!0},r.mapChildrenToProps=function(e,t){var r=this,n={};return u.default.Children.forEach(e,function(e){if(e&&e.props){var i=e.props,a=i.children,o=m(i,ae),u=Object.keys(o).reduce(function(e,t){return e[j[t]||t]=o[t],e},{}),s=e.type;switch("symbol"==typeof s?s=s.toString():r.warnOnInvalidChildren(e,a),s){case O.FRAGMENT:t=r.mapChildrenToProps(a,t);break;case O.LINK:case O.META:case O.NOSCRIPT:case O.SCRIPT:case O.STYLE:n=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:n,newChildProps:u,nestedChildren:a});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:u,nestedChildren:a})}}}),this.mapArrayTypeChildrenToProps(n,t)},r.render=function(){var e=this.props,t=e.children,r=m(e,oe),n=d({},r),i=r.helmetData;return t&&(n=this.mapChildrenToProps(t,n)),!i||i instanceof Q||(i=new Q(i.context,i.instances)),i?/*#__PURE__*/u.default.createElement(ie,d({},n,{context:i.value,helmetData:void 0})):/*#__PURE__*/u.default.createElement(V.Consumer,null,function(e){/*#__PURE__*/return u.default.createElement(ie,d({},n,{context:e}))})},t}(t.Component);ue.propTypes={base:s.default.object,bodyAttributes:s.default.object,children:s.default.oneOfType([s.default.arrayOf(s.default.node),s.default.node]),defaultTitle:s.default.string,defer:s.default.bool,encodeSpecialCharacters:s.default.bool,htmlAttributes:s.default.object,link:s.default.arrayOf(s.default.object),meta:s.default.arrayOf(s.default.object),noscript:s.default.arrayOf(s.default.object),onChangeClientState:s.default.func,script:s.default.arrayOf(s.default.object),style:s.default.arrayOf(s.default.object),title:s.default.string,titleAttributes:s.default.object,titleTemplate:s.default.string,prioritizeSeoTags:s.default.bool,helmetData:s.default.object},ue.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},ue.displayName="Helmet",e.Helmet=ue,e.HelmetData=Q,e.HelmetProvider=$});
//# sourceMappingURL=index.umd.js.map
